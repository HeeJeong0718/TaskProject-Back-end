<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">




<mapper namespace="com.example.demo.mapper.LoginMapper">

	<!--로그인 -->
	
		<select id="tasklogin" parameterType="MemberVO" resultType="HashMap">
		 
		  select userid , userpass , username , join_date , loginlevel  FROM MP_MEMBER
		  WHERE   userid = #{userid} and userpass = #{userpass} 
		 <if test="userid == 'admin'">
		    and loginlevel = '1'
           </if>	
          <if test="userid != 'admin'">       
		      and loginlevel = '2'
		    </if>  
	</select>
	
	<!--회원가입 -->
	<insert id="insertRegister" parameterType="MemberVO">
	     /*insertTest*/
	 	 INSERT INTO MP_MEMBER ( userid ,userpass , username ,loginlevel ) VALUES ( #{userid} , #{userpass} , #{username} , '2') 
	</insert>
	
	
</mapper>